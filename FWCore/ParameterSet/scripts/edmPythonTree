#! /usr/bin/env python

from FWCore.ParameterSet.TreeCrawler import getImportTree
import sys, os

import optparse
usage = "%prog [configuration file name] [optional search string]"
parser = optparse.OptionParser(usage=usage)

try:
    filename = sys.argv[1]
except:
    parser.error("Please specify a python config file to inspect")

sys.path.append(os.environ["PWD"])
path = sys.path[:]

# get the dependencies
importTree = getImportTree(filename, path)  

# finally dump the tree
importTree.dump(0)






